## HTML

## CSS

### 1、解释css sprites ，如何使用？

- CSS Sprites其实就是把网页中一些背景图片整合到一张图片文件中，再利用CSS的“background-image”，“background- repeat”，“background-position”的组合进行背景定位，background-position可以用数字能精确的定位出背景图片的位置。

- CSS Sprites为一些大型的网站节约了带宽，让提高了用户的加载速度和用户体验，不需要加载更多的图片

## Browser(浏览器)

### 1、请描述一下 cookies sessionStorage和localstorage区别？

- 相同点：都存储在客户端

- 不同点：

不同点 | cookie | sessionStorage | localStorage
---|---|---|---
存储大小|cookie数据大小不能超过4k|sessionStorage和localStorage 虽然也有存储大小的限制，但比cookie大得多，可以达到5M或更大|-
有效时间|设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭 | 数据在当前浏览器窗口关闭后自动删除|存储持久数据，浏览器关闭后数据不丢失除非主动删除数据；
数据与服务器之间的交互方式|数据会自动的传递到服务器，服务器端也可以写cookie到客户端|sessionStorage和localStorage不会自动把数据发给服务器，仅在本地保存|-

### 2、优雅降级和渐进增强？

- 渐进增强（Progressive Enhancement）：一开始就针对低版本浏览器进行构建页面，完成基本的功能，然后再针对高级浏览器进行效果、交互、追加功能达到更好的体验。

- 优雅降级（Graceful Degradation）：一开始就构建站点的完整功能，然后针对浏览器测试和修复。比如一开始使用 CSS3 的特性构建了一个应用，然后逐步针对各大浏览器进行 hack 使其可以在低版本浏览器上正常浏览。

- 其实渐进增强和优雅降级并非什么新概念，只是旧的概念换了一个新的说法。在传统软件开发中，经常会提到向上兼容和向下兼容的概念。渐进增强相当于向上兼容，而优雅降级相当于向下兼容。

### 3、浏览器是如何渲染页面的？

1.解析HTML文件，创建DOM树。**
**自上而下，遇到任何样式（link、style）与脚本（script）都会阻塞（外部样式不阻塞后续外部脚本的加载）。

2.解析CSS。优先级：浏览器默认设置<用户设置<外部样式<内联样式<HTML中的style样式。

3.将CSS与DOM合并，构建渲染树（Render Tree）。

4.布局和绘制，重绘（repaint）和重排（reflow）。**

### 4、从输入url到显示页面，都经历了什么？

#### 首先，在浏览器地址栏中输入url。

```js
https://www.baidu.com/
```
#### 网络请求

##### 1. **构建请求**

```js
// 请求方法是GET，路径为根路径，HTTP协议版本为1.1
GET / HTTP/1.1
```

##### 2. **查找强缓存**: 

浏览器先查看浏览器缓存-系统缓存-路由器缓存，如果缓存中有，会直接在屏幕中显示页面内容。若没有，则跳到第三步操作。

##### 3. **DNS解析**: 

在发送http请求前，需要域名解析(DNS解析)(DNS（域名系统，Domain Name System）是互联网的一项核心服务，它作为可以将域名和IP地址相互映射的一个分布式数据库，能够使人更方便的访问互联网，而不用去记住IP地址。)，解析获取相应的IP地址。

- 由于我们输入的是域名，而数据包是通过IP地址传给对方的。因此我们需要得到域名对应的IP地址。这个过程需要依赖一个服务系统，这个系统将域名和 IP 一一映射，我们将这个系统就叫做DNS（域名系统）。得到具体 IP 的过程就是DNS解析。

- 浏览器提供了DNS数据缓存功能。即如果一个域名已经解析过，那会把解析的结果缓存下来，下次处理直接走缓存，不需要经过 DNS解析。

##### 4. **建立 TCP 连接**：

> Chrome 在同一个域名下要求同时最多只能有 6 个 TCP 连接，超过 6 个的话剩下的请求就得等待。

浏览器向服务器发起tcp连接，与浏览器建立tcp三次握手。（TCP即传输控制协议。TCP连接是互联网连接协议集的一种。）

> TCP（Transmission Control Protocol，传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。

建立 TCP连接经历了下面三个阶段:

1. 通过三次握手(即总共发送3个数据包确认已经建立连接)建立客户端和服务器之间的连接。

2. 进行数据传输。这里有一个重要的机制，就是接收方接收到数据包后必须要向发送方确认, 如果发送方没有接到这个确认的消息，就判定为数据包丢失，并重新发送该数据包。当然，发送的过程中还有一个优化策略，就是把大的数据包拆成一个个小包，依次传输到接收方，接收方按照这个小包的顺序把它们组装成完整数据包。

3. 断开连接的阶段。数据传输完成，现在要断开连接了，通过四次挥手来断开连接。

::: tip
TCP 连接通过什么手段来保证数据传输的可靠性，一是三次握手确认连接，二是数据包校验保证数据到达接收方，三是通过四次挥手断开连接。
:::


##### 5、握手成功后，浏览器向服务器发送http请求，请求数据包。

现在TCP连接建立完毕，浏览器可以和服务器开始通信，即开始发送 HTTP 请求。浏览器发 HTTP 请求要携带三样东西:**请求行、请求头和请求体**。

##### 6、网络响应: 服务器处理收到的请求，将数据返回至浏览器。

跟请求部分类似，网络响应具有三个部分:**响应行、响应头和响应体**。

##### 7、浏览器收到HTTP响应。

##### 8、读取页面内容，浏览器渲染，解析html源码。

##### 9、生成Dom树、解析css样式、js交互。

##### 10、客户端和服务器交互。

##### 11、ajax查询。

